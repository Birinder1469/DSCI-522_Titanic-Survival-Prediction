---
title: "Predictors of Survival for Titanic Passengers"
author: "Alden Chen, Birinder Singh"
date: '2018-11-17'
output: pdf_document
---

## Introduction

In this analysis, we look at data on passengers from the Titanic. Using seven features, we fit a decision tree model to find out which two features are the best predictors of survival for Titanic passengers.

## Exploratory Data Analysis:

Our target variable is `Survived`, a dummy variable that takes the value `0` is a passenger did not survive and `1` is he or she did survive. We have data on 712 passengers for these seven features
  
|Feature	           |Description	                                    |
|--------------------|-------------------------------------------------|
|Passenger Class	   |First, Second or Third Class | 
|Sex	               |Male or Female |    
|Age                 |Age of each passenger years	|
|Siblings/Spouses	   |Number of siblings and spouses aboard the Titanic |
|Parents/Children	   |Number of arents and children aboard the Titanic |
|Fare	               |The amount each passenger paid for a his or her ticket |
|Port of Embarkation |Cherbourg, Queenstown, or Southampton |

In this section, we look at some plots of the data and discuss their implications for prediction.  



```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_barplot-survival.png")
 grid.raster(img)
```


```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_barplot-class-survival.png")
 grid.raster(img)
```

```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_barplot-sex-survival.png")
 grid.raster(img)
```

```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_barplot-port-survival.png")
 grid.raster(img)
```

```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_boxplot-age-survival.png")
 grid.raster(img)
```

```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/eda_boxplot-fare-survival.png")
 grid.raster(img)
```  


## Model Development
- Dicussion of cross-validation to select hyperparameter and fitting the model  
  
```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/validation_5-fold-performance-plot.png")
 grid.raster(img)
```  


## Results  

```{r fig.width=3, fig.height=3,echo=FALSE}
library(png)
library(grid)
img <- readPNG("../results/plot_feature-importance.png")
 grid.raster(img)
```

```{r fig.width=7, fig.height=5,echo=FALSE}
library(png)
library(grid)
img <- readPNG('../results/plot_decision-tree.png')
grid.raster(img)

```

